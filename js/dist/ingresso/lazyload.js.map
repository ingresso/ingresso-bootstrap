{"version":3,"sources":["../../src/ingresso/lazyload.js"],"names":[],"mappings":"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","file":"lazyload.js","sourcesContent":["/* global Tether */\n\nimport Util from './util'\n\n\n/**\n * --------------------------------------------------------------------------\n * Bootstrap (v4.0.0-alpha.2): lazyload.js\n * @author Arthur Franco\n * --------------------------------------------------------------------------\n */\n\n const LazyloadIngresso = (($) => {\n\n  /**\n   * Check for Lazyload dependency\n   * Lazy Load Plugin for jQuery - https://github.com/tuupola/jquery_lazyload\n   */\n   if ($.fn.lazyload === undefined) {\n    throw new Error('Bootstrap lazyload require Lazy Load Plugin for jQuery (https://github.com/tuupola/jquery_lazyload)')\n  }\n\n\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n   const NAME                = 'lazyloadIngresso'\n   const VERSION             = '4.0.0-alpha.2'\n   const DATA_KEY            = 'bs.lazyloadingresso'\n   const DATA_API_KEY        = '.data-api'\n   const EVENT_KEY           = `.${DATA_KEY}`\n   const JQUERY_NO_CONFLICT  = $.fn[NAME]\n   const TRANSITION_DURATION = 300\n\n   const Default = {\n    animation   : true,\n    trigger     : 'scroll',\n    container: window,\n    effect : \"fadeIn\",\n    offset : 300,\n    skip_invisible: false,\n    load: null,\n    placeholder:'/assets/img/spinner.gif'\n  }\n\n  const DefaultType = {\n    animation       : 'boolean',\n    trigger         : 'string',\n    container       : 'window|element',\n    effect          : 'string',\n    offset          : 'number',\n    skip_invisible  : 'boolean',\n    load            : 'null|function',\n    placeholder     : 'string'\n  }\n\n  const Event = {\n    SCROLL          : `scroll${EVENT_KEY}${DATA_API_KEY}`,\n    LOAD_DATA_API   : `load${EVENT_KEY}${DATA_API_KEY}`\n  }\n\n  const ClassName = {\n    LOADED : 'lazy-loaded',\n    INITIATED : 'lazy-load'\n  }\n\n  const Selector = {\n    IMG       : 'img',\n    DATA_LAZY : '[data-lazyload]'\n  }\n\n  const Trigger = {\n    HOVER  : 'hover',\n    FOCUS  : 'focus',\n    CLICK  : 'click',\n    MANUAL : 'manual'\n  }\n\n\n  /**\n   * ------------------------------------------------------------------------\n   * Class Definition\n   * ------------------------------------------------------------------------\n   */\n\n   class LazyloadIngresso {\n\n    constructor(element, config) {\n\n      // private\n      this._isEnabled      = true\n      this._timeout        = 0\n      this.classesOnLoad = false\n\n      // protected\n      this.element = element\n      this.container = window\n      this.config  = this._getConfig(config)\n      this.tip     = null\n\n      this._init()\n\n    }\n\n\n    // getters\n\n    static get VERSION() {\n      return VERSION\n    }\n\n    static get Default() {\n      return Default\n    }\n\n    static get NAME() {\n      return NAME$(Selector.IMG, $el)\n    }\n\n    static get DATA_KEY() {\n      return DATA_KEY\n    }\n\n    static get Event() {\n      return Event\n    }\n\n    static get EVENT_KEY() {\n      return EVENT_KEY\n    }\n\n    static get DefaultType() {\n      return DefaultType\n    }\n\n\n    // public\n\n    enable() {\n      this._isEnabled = true\n    }\n\n    disable() {\n      this._isEnabled = false\n    }\n\n    toggleEnabled() {\n      this._isEnabled = !this._isEnabled\n    }\n\n    // private\n\n    _getConfig(config) {\n      config = $.extend({}, Default, config)\n      Util.typeCheckConfig(NAME, config, DefaultType)\n      return config\n    }\n\n    _init() {\n\n        let $el = $(this.element);\n\n        // if havent been loaded yet\n        if(this.classesOnLoad){\n          if($el.hasClass(ClassName.INITIATED)){\n            return\n          }\n          this._addClasses();\n        }\n\n        if(this._isImage()) {\n\n             // verify if the last image lazyloaded has container\n             if(!$el.closest(Default.container).length && Default.container !== window){\n\n               Default.container = window;\n             }\n\n             this._applyLazyload();\n\n           }else{\n\n          // if not image\n          if(this._isBootstrapTabs()){\n\n            // set current element to be the tab element\n            $el = this.element = $tab.get(0)\n\n          }\n\n          // set container for recursive use of this function\n          Default.container = $el;\n          this._applyLazyload($(Selector.IMG, $el))\n\n        }\n\n      return;\n\n    }\n\n    _applyLazyload(el) {\n\n      if(typeof this._onloadCallback == 'function'){\n        Default.load = this._onloadCallback\n      }\n\n      $(el || this.element).lazyload(Default)\n\n    }\n\n    _isImage(){\n\n      if(this.element.nodeType == Node.ELEMENT_NODE) {\n\n        if(this.element.tagName == 'IMG'){\n          return true\n        }\n\n        return false\n      }\n    }\n\n    // Use for Bootstrap Tabs\n    _isBootstrapTabs() {\n\n      if($(this.element).attr('href')){\n\n        let $el = $(this.element)\n        // set referenced tab\n        let $tab = $($el.attr('href'))\n\n        if($el.attr('data-lazyload') && $el.attr('data-toggle') == 'tab'){\n\n\n          $el.on('shown.bs.tab',function(){\n\n            // fire scroll on tab to force images to show\n            $(Selector.IMG, $tab).trigger(Event.SCROLL)\n\n            return true\n\n          })\n        }\n      }\n    }\n\n    _onloadCallback(){\n\n      if(this.classesOnLoad) $(this).toggleClass('lazy-load lazy-loaded')\n    }\n\n    _addClasses(){\n      $(this.element).addClass(ClassName.INITIATED);\n    }\n\n    // static\n\n    static _jQueryInterface(config) {\n      return this.each(function () {\n        console.log('jq interface')\n        let data   = $(this).data(DATA_KEY)\n        let _config = typeof config === 'object' ?\n        config : null\n\n        if (!data && /destroy|hide/.test(config)) {\n          return\n        }\n\n        if (!data) {\n          data = new LazyloadIngresso(this, _config)\n          $(this).data(DATA_KEY, data)\n        }\n\n        if (typeof config === 'string') {\n          if (data[config] === undefined) {\n            throw new Error(`No method named \"${config}\"`)\n          }\n          data[config]()\n        }\n      })\n    }\n\n  }\n\n  /**\n   * ------------------------------------------------------------------------\n   * Data Api implementation\n   * ------------------------------------------------------------------------\n   */\n\n\n   $(function(){\n     $(Selector.DATA_LAZY).each(function () {\n       let $lazy = $(this)\n       LazyloadIngresso._jQueryInterface.call($lazy, $lazy.data())\n     })\n   })\n\n\n\n\n  /**\n   * ------------------------------------------------------------------------\n   * jQuery\n   * ------------------------------------------------------------------------\n   */\n\n   $.fn[NAME]             = LazyloadIngresso._jQueryInterface\n   $.fn[NAME].Constructor = LazyloadIngresso\n   $.fn[NAME].noConflict  = function () {\n    $.fn[NAME] = JQUERY_NO_CONFLICT\n    return LazyloadIngresso._jQueryInterface\n  }\n\n  return LazyloadIngresso\n\n})(jQuery)\n\nexport default LazyloadIngresso\n"]}