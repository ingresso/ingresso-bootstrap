{"version":3,"sources":["../../src/ingresso/lazyload.js"],"names":[],"mappings":"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","file":"lazyload.js","sourcesContent":["/* global Tether */\n\nimport Util from './util'\n\n\n/**\n* --------------------------------------------------------------------------\n* Bootstrap (v4.0.0-alpha.2): lazyload.js\n* @author Arthur Franco\n* --------------------------------------------------------------------------\n*/\n\nconst LazyloadIngresso = (($) => {\n\n  /**\n  * Check for Lazyload dependency\n  * Lazy Load Plugin for jQuery - https://github.com/tuupola/jquery_lazyload\n  */\n  if ($.fn.lazyload === undefined) {\n    throw new Error('Bootstrap lazyload require Lazy Load Plugin for jQuery (https://github.com/tuupola/jquery_lazyload)')\n  }\n\n\n  /**\n  * ------------------------------------------------------------------------\n  * Constants\n  * ------------------------------------------------------------------------\n  */\n\n  const NAME                = 'lazyloadIngresso'\n  const VERSION             = '4.0.0-alpha.2'\n  const DATA_KEY            = 'bs.lazyloadingresso'\n  const DATA_API_KEY        = '.data-api'\n  const EVENT_KEY           = `.${DATA_KEY}`\n  const JQUERY_NO_CONFLICT  = $.fn[NAME]\n  const TRANSITION_DURATION = 300\n\n  const Event = {\n    SCROLL          : `scroll${EVENT_KEY}${DATA_API_KEY}`,\n    LOAD_DATA_API   : `load${EVENT_KEY}${DATA_API_KEY}`\n  }\n\n  const Default = {\n    animation   : true,\n    trigger     : Event.SCROLL,\n    container: window,\n    data_attribute  : 'src',\n    effect : \"fadeIn\",\n    offset : 0,\n    skip_invisible: true,\n    load: null,\n    placeholder:'/assets/img/loading-spinner.svg'\n  }\n\n  const DefaultType = {\n    animation       : 'boolean',\n    trigger         : 'string',\n    container       : 'window|element',\n    effect          : 'string',\n    offset          : 'number',\n    skip_invisible  : 'boolean',\n    load            : 'null|function',\n    placeholder     : 'string'\n  }\n\n\n  const ClassName = {\n    LOADED : 'lazy-loaded',\n    INITIATED : 'lazy-load'\n  }\n\n  const Selector = {\n    IMG       : 'img',\n    DATA_LAZY : '[data-lazyload]'\n  }\n\n  const Trigger = {\n    HOVER  : 'hover',\n    FOCUS  : 'focus',\n    CLICK  : 'click',\n    MANUAL : 'manual'\n  }\n\n\n  /**\n  * ------------------------------------------------------------------------\n  * Class Definition\n  * ------------------------------------------------------------------------\n  */\n\n  class LazyloadIngresso {\n\n    constructor(element, config) {\n\n      // private\n      this._isEnabled      = true\n      this._timeout        = 0\n      this._classesOnLoad = true\n\n      // protected\n      this.element = element\n      this.container = window\n      this.config  = this._getConfig(config)\n      this.tip     = null\n\n      this._init()\n\n    }\n\n\n    // getters\n\n    static get VERSION() {\n      return VERSION\n    }\n\n    static get Default() {\n      return Default\n    }\n\n    static get NAME() {\n      return NAME\n    }\n\n    static get DATA_KEY() {\n      return DATA_KEY\n    }\n\n    static get Event() {\n      return Event\n    }\n\n    static get EVENT_KEY() {\n      return EVENT_KEY\n    }\n\n    static get DefaultType() {\n      return DefaultType\n    }\n\n\n\n    // public\n\n    enable() {\n      this._isEnabled = true\n    }\n\n    disable() {\n      this._isEnabled = false\n    }\n\n    toggleEnabled() {\n      this._isEnabled = !this._isEnabled\n    }\n\n    // private\n\n    _getConfig(config) {\n      config = $.extend({}, Default, config)\n      Util.typeCheckConfig(NAME, config, DefaultType)\n      return config\n    }\n\n    _init() {\n\n      let $el = $(this.element);\n\n      // if havent been loaded yet\n      if(this._classesOnLoad) {\n        if($el.hasClass(ClassName.INITIATED)){\n          return\n        }\n        this._addClasses();\n      }\n\n      if(this._isImage()) {\n\n        this._applyLazyload();\n\n      }else{\n\n        // if not image\n        if($el.attr('data-toggle') == 'tab'){\n            this._isBootstrapTabs()\n\n        }else{\n          let self = this\n          this._applyLazyload($(Selector.IMG, $el))\n          let imgs = $(Selector.IMG, $el)\n\n          $el.on(Event.SCROLL,function(){\n            $(window).trigger('scroll')\n\n          })\n        }\n      }\n    }\n\n    _isLoaded(element){\n      let $element = $(element)\n      return $element.data('lazyload-loaded')\n\n    }\n\n    _applyLazyload(el) {\n      if(typeof this._onLoadCallback == 'function') {\n        Default.load = this._onLoadCallback\n      }\n\n      $(el || this.element).lazyload(Default)\n\n    }\n\n    _isImage() {\n      if(this.element.nodeType == Node.ELEMENT_NODE) {\n        if(this.element.tagName == 'IMG'){\n          return true\n        }\n        return false\n      }\n    }\n\n    // Use for Bootstrap Tabs\n    _isBootstrapTabs() {\n        let $el = $(this.element)\n        // set referenced tab\n        let $tab = $($el.attr('href'))\n\n        if($el.attr('data-lazyload') != undefined && $el.attr('data-toggle') == 'tab'){\n          $el.on('shown.bs.tab',function(){\n            console.log('show tab')\n            $(window).trigger('scroll')\n          })\n\n          return true;\n        }\n    }\n\n    _onLoadCallback(){\n      $(this).toggleClass('lazy-load lazy-loaded')\n      $(this).data('lazyload-loaded',true)\n    }\n\n    _addClasses(){\n      $(this.element).addClass(ClassName.INITIATED);\n    }\n\n\n\n    // static\n\n    static _jQueryInterface(config) {\n      return this.each(function () {\n        let data   = $(this).data(DATA_KEY)\n        let _config = typeof config === 'object' ?\n        config : null\n\n        if (!data && /destroy|hide/.test(config)) {\n          return\n        }\n\n        if (!data) {\n          data = new LazyloadIngresso(this, _config)\n          $(this).data(DATA_KEY, data)\n        }\n\n        if (typeof config === 'string') {\n          if (data[config] === undefined) {\n            throw new Error(`No method named \"${config}\"`)\n          }\n          data[config]()\n        }\n      })\n    }\n\n  }\n\n  /**\n  * ------------------------------------------------------------------------\n  * Data Api implementation\n  * ------------------------------------------------------------------------\n  */\n\n\n  $(function(){\n    $(Selector.DATA_LAZY).each(function () {\n      let $lazy = $(this)\n      LazyloadIngresso._jQueryInterface.call($lazy, $lazy.data())\n    })\n  })\n\n\n\n\n  /**\n  * ------------------------------------------------------------------------\n  * jQuery\n  * ------------------------------------------------------------------------\n  */\n\n  $.fn[NAME]             = LazyloadIngresso._jQueryInterface\n  $.fn[NAME].Constructor = LazyloadIngresso\n  $.fn[NAME].noConflict  = function () {\n    $.fn[NAME] = JQUERY_NO_CONFLICT\n    return LazyloadIngresso._jQueryInterface\n  }\n\n  return LazyloadIngresso\n\n})(jQuery)\n\nexport default LazyloadIngresso\n"]}